{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useReducer}from'react';import proyectoContext from'./proyectoContext';import proyectoReducer from'./proyectoReducer';import{PROYECTO_ERROR,ELIMINAR_PROYECTO,PROYECTO_ACTUAL,VALIDAR_FORMULARIO,AGREGAR_PROYECTO,FORMULARIO_PROYECTO,OBTENER_PROYECTOS}from'../../types';import clienteAxios from'../../config/axiosCliente';var ProyectoState=function ProyectoState(props){var initialState={proyectos:[],formulario:false,errorformulario:false,proyecto:null,mensaje:null};//dispath para ejecutar las acciones\nvar _useReducer=useReducer(proyectoReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispath=_useReducer2[1];//SERIE DE ACCIONES PARA EL CRUD\nvar mostrarFormulario=function mostrarFormulario(){//funciones que madans a llamar el reducer\ndispath({//lo que se va a evaluar en el reducer\ntype:FORMULARIO_PROYECTO});};//obtener los proyectos\nvar obtenerProyectos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var respuesta,alerta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get('/api/proyectos');case 3:respuesta=_context.sent;dispath({type:OBTENER_PROYECTOS,payload:respuesta.data.proyectos});_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alerta={msg:'hubo un error',categoria:'alerta-error'};dispath({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function obtenerProyectos(){return _ref.apply(this,arguments);};}();//agregar nuevo proyecto\nvar agregarProyecto=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(proyecto){var respuesta,alerta;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post('/api/proyectos',proyecto);case 3:respuesta=_context2.sent;//agregar el pryecto al staste con un dispath\ndispath({type:AGREGAR_PROYECTO,payload:respuesta.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alerta={msg:'hubo un error',categoria:'alerta-error'};dispath({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function agregarProyecto(_x){return _ref2.apply(this,arguments);};}();//VALIDAR FORMULARIO\nvar validarFormulario=function validarFormulario(){dispath({type:VALIDAR_FORMULARIO});};//seleeciona proyecto que el usuario dio click\nvar proyectoActual=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(proyectoid){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0://   const respuesta = await clienteAxios.post('/api/proyectos', proyecto);\ndispath({type:PROYECTO_ACTUAL,payload:proyectoid});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function proyectoActual(_x2){return _ref3.apply(this,arguments);};}();//ELIMINAR PROYECTO\nvar eliminarProyecto=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(proyectoid){var alerta;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return clienteAxios.delete(\"/api/proyectos/\".concat(proyectoid));case 3:dispath({type:ELIMINAR_PROYECTO,payload:proyectoid});// eslint-disable-next-line\n_context4.next=10;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);alerta={msg:'hubo un error',categoria:'alerta-error'};dispath({type:PROYECTO_ERROR,payload:alerta});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return function eliminarProyecto(_x3){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(proyectoContext.Provider,{value:{proyectos:state.proyectos,formulario:state.formulario,errorformulario:state.errorformulario,proyecto:state.proyecto,mensaje:state.mensaje,agregarProyecto:agregarProyecto,mostrarFormulario:mostrarFormulario,obtenerProyectos:obtenerProyectos,validarFormulario:validarFormulario,proyectoActual:proyectoActual,eliminarProyecto:eliminarProyecto}},props.children);};export default ProyectoState;","map":{"version":3,"sources":["C:/Users/rocio/source/repos/Mern-Cliente/cliente/src/context/proyectos/proyectoState.js"],"names":["React","useState","useReducer","proyectoContext","proyectoReducer","PROYECTO_ERROR","ELIMINAR_PROYECTO","PROYECTO_ACTUAL","VALIDAR_FORMULARIO","AGREGAR_PROYECTO","FORMULARIO_PROYECTO","OBTENER_PROYECTOS","clienteAxios","ProyectoState","props","initialState","proyectos","formulario","errorformulario","proyecto","mensaje","state","dispath","mostrarFormulario","type","obtenerProyectos","get","respuesta","payload","data","alerta","msg","categoria","agregarProyecto","post","validarFormulario","proyectoActual","proyectoid","eliminarProyecto","delete","children"],"mappings":"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","sourcesContent":["import React, { useState,useReducer } from 'react';\r\nimport proyectoContext from './proyectoContext';\r\nimport proyectoReducer from './proyectoReducer';\r\nimport {PROYECTO_ERROR, ELIMINAR_PROYECTO,PROYECTO_ACTUAL,VALIDAR_FORMULARIO,AGREGAR_PROYECTO,FORMULARIO_PROYECTO,OBTENER_PROYECTOS} from '../../types';\r\nimport clienteAxios from '../../config/axiosCliente';\r\n\r\n\r\nconst ProyectoState= props=>{\r\n\r\n    const initialState={\r\n        proyectos:[],\r\n       formulario:false,\r\n       errorformulario:false,\r\n       proyecto:null,\r\n       mensaje:null\r\n    }\r\n\r\n    //dispath para ejecutar las acciones\r\n    const [state,dispath]= useReducer(proyectoReducer,initialState);\r\n\r\n    //SERIE DE ACCIONES PARA EL CRUD\r\n    const mostrarFormulario=()=>{\r\n        //funciones que madans a llamar el reducer\r\n    dispath({\r\n        //lo que se va a evaluar en el reducer\r\n        type:FORMULARIO_PROYECTO\r\n    })\r\n    }\r\n    //obtener los proyectos\r\n\r\n    const obtenerProyectos=async()=>{\r\n     try {\r\n\r\n        const respuesta = await clienteAxios.get('/api/proyectos');\r\n\r\n        dispath({\r\n\r\n            type:OBTENER_PROYECTOS,\r\n            payload:respuesta.data.proyectos\r\n        })\r\n     }  catch (error) {\r\n         \r\n        const alerta={\r\n            msg:'hubo un error',\r\n            categoria:'alerta-error'\r\n        }\r\n          dispath({\r\n               type:PROYECTO_ERROR,\r\n               payload:alerta\r\n          })\r\n      }\r\n    }\r\n    //agregar nuevo proyecto\r\n    const agregarProyecto=async(proyecto)=>{\r\n      \r\n\r\n       try {\r\n\r\n        const respuesta = await clienteAxios.post('/api/proyectos', proyecto);\r\n   \r\n            //agregar el pryecto al staste con un dispath\r\n        dispath({\r\n\r\n            type:AGREGAR_PROYECTO,\r\n            payload:respuesta.data\r\n        })\r\n       } catch (error) {\r\n         \r\n         const alerta={\r\n             msg:'hubo un error',\r\n             categoria:'alerta-error'\r\n         }\r\n           dispath({\r\n                type:PROYECTO_ERROR,\r\n                payload:alerta\r\n           })\r\n       }\r\n    }\r\n\r\n    //VALIDAR FORMULARIO\r\n    const validarFormulario=()=>{\r\n      \r\n      \r\n        dispath({\r\n\r\n            type:VALIDAR_FORMULARIO\r\n            \r\n        })\r\n    }\r\n\r\n      //seleeciona proyecto que el usuario dio click\r\n      const proyectoActual=async(proyectoid)=>{\r\n      \r\n     //   const respuesta = await clienteAxios.post('/api/proyectos', proyecto);\r\n   \r\n        dispath({\r\n\r\n            type:PROYECTO_ACTUAL,\r\n            payload:proyectoid\r\n            \r\n        })\r\n    }\r\n\r\n    //ELIMINAR PROYECTO\r\n    const eliminarProyecto=async(proyectoid)=>{\r\n       try {\r\n           await clienteAxios.delete(`/api/proyectos/${proyectoid}`);\r\n           \r\n        dispath({\r\n\r\n            type:ELIMINAR_PROYECTO,\r\n            payload:proyectoid\r\n            \r\n        }) \r\n          // eslint-disable-next-line\r\n       }  catch (error) {\r\n         \r\n        const alerta={\r\n            msg:'hubo un error',\r\n            categoria:'alerta-error'\r\n        }\r\n          dispath({\r\n               type:PROYECTO_ERROR,\r\n               payload:alerta\r\n          })\r\n          \r\n      }\r\n    }\r\n    return(\r\n        <proyectoContext.Provider\r\n        value={{\r\n            proyectos:state.proyectos,\r\n            formulario: state.formulario,\r\n            errorformulario:state.errorformulario,\r\n            proyecto:state.proyecto,\r\n            mensaje:state.mensaje,\r\n            agregarProyecto,\r\n            mostrarFormulario,\r\n            obtenerProyectos,\r\n            validarFormulario,\r\n            proyectoActual,\r\n            eliminarProyecto\r\n        }}\r\n        >\r\n  \r\n            {props.children}\r\n        </proyectoContext.Provider>\r\n  \r\n    );\r\n}\r\n\r\nexport default ProyectoState;"]},"metadata":{},"sourceType":"module"}