{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import TareaContext from'./tareaContext';import TareaReducer from'./tareaReducer';import{TAREAS_PROYECTO,AGREGAR_TAREA,VALIDAR_TAREA,ELIMINAR_TAREA,LIMPIAR_TAREA,TAREA_ACTUAL,ACTUALIZAR_TAREA}from'../../types';import clienteAxios from'../../config/axiosCliente';var TareaState=function TareaState(props){var initialState={tareasproyecto:[],errortarea:false,tareaseleccionada:null};// Crear dispatch y state\nvar _useReducer=useReducer(TareaReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//crear funciones\n// Obtener las tareas de un proyecto\nvar obtenerTareas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(proyecto){var resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get('/api/tareas',{params:{proyecto:proyecto}});case 3:resultado=_context.sent;console.log(resultado);dispatch({type:TAREAS_PROYECTO,payload:resultado.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function obtenerTareas(_x){return _ref.apply(this,arguments);};}();//AGREGAR TAREAS\nvar agregarTarea=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(tarea){var resultado;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post('/api/tareas',tarea);case 3:resultado=_context2.sent;console.log(resultado);dispatch({type:AGREGAR_TAREA,payload:tarea});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function agregarTarea(_x2){return _ref2.apply(this,arguments);};}();//ERROR\nvar validarTarea=function validarTarea(){dispatch({type:VALIDAR_TAREA});};//ELIMINAR TAREA\nvar eliminarTarea=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,proyecto){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return clienteAxios.delete(\"/api/tareas/\".concat(id),{params:{proyecto:proyecto}});case 3:dispatch({type:ELIMINAR_TAREA,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function eliminarTarea(_x3,_x4){return _ref3.apply(this,arguments);};}();// ecxtraer una tarea para edicion\nvar actualizarTarea=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(tarea){var resultado;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return clienteAxios.put(\"/api/tareas/\".concat(tarea._id),tarea);case 3:resultado=_context4.sent;dispatch({type:ACTUALIZAR_TAREA,payload:resultado.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function actualizarTarea(_x5){return _ref4.apply(this,arguments);};}();// ecxtraer una tarea para edicion\nvar guardarTareaActual=function guardarTareaActual(tarea){dispatch({type:TAREA_ACTUAL,payload:tarea});};// Elimina la tareaseleccionada\nvar limpiarTarea=function limpiarTarea(){dispatch({type:LIMPIAR_TAREA});};return/*#__PURE__*/React.createElement(TareaContext.Provider,{value:{tareasproyecto:state.tareasproyecto,tareaseleccionada:state.tareaseleccionada,obtenerTareas:obtenerTareas,validarTarea:validarTarea,agregarTarea:agregarTarea,eliminarTarea:eliminarTarea,limpiarTarea:limpiarTarea,guardarTareaActual:guardarTareaActual,actualizarTarea:actualizarTarea,errortarea:state.errortarea}},props.children);};export default TareaState;","map":{"version":3,"sources":["C:/Users/rocio/source/repos/Mern-Cliente/cliente/src/context/tareas/tareaState.js"],"names":["React","useReducer","TareaContext","TareaReducer","TAREAS_PROYECTO","AGREGAR_TAREA","VALIDAR_TAREA","ELIMINAR_TAREA","LIMPIAR_TAREA","TAREA_ACTUAL","ACTUALIZAR_TAREA","clienteAxios","TareaState","props","initialState","tareasproyecto","errortarea","tareaseleccionada","state","dispatch","obtenerTareas","proyecto","get","params","resultado","console","log","type","payload","data","agregarTarea","tarea","post","validarTarea","eliminarTarea","id","delete","actualizarTarea","put","_id","guardarTareaActual","limpiarTarea","children"],"mappings":"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","sourcesContent":["import React,{useReducer} from 'react';\r\nimport TareaContext from './tareaContext';\r\nimport TareaReducer from './tareaReducer';\r\nimport {TAREAS_PROYECTO,AGREGAR_TAREA,VALIDAR_TAREA,ELIMINAR_TAREA,LIMPIAR_TAREA,TAREA_ACTUAL,ACTUALIZAR_TAREA} from '../../types';\r\nimport clienteAxios from '../../config/axiosCliente';\r\n\r\nconst TareaState= props=>{\r\n    const initialState = {\r\n        tareasproyecto:[],\r\n       \r\n        errortarea: false,\r\n        tareaseleccionada: null\r\n    }\r\n\r\n    // Crear dispatch y state\r\n    const [state, dispatch] = useReducer(TareaReducer, initialState);\r\n\r\n    //crear funciones\r\n\r\n    // Obtener las tareas de un proyecto\r\n    const obtenerTareas = async proyecto => {\r\n\r\n       \r\n\r\n        try {\r\n            const resultado = await clienteAxios.get('/api/tareas', { params: { proyecto }});\r\n            console.log(resultado);\r\n            dispatch({\r\n                type: TAREAS_PROYECTO,\r\n                payload: resultado.data\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    //AGREGAR TAREAS\r\n    const agregarTarea=async(tarea)=>{\r\n        try {\r\n            const resultado = await clienteAxios.post('/api/tareas', tarea);\r\n            console.log(resultado);\r\n            dispatch({\r\n                type: AGREGAR_TAREA,\r\n                payload: tarea\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    //ERROR\r\n    const validarTarea=()=>{\r\n        dispatch({\r\n            type:VALIDAR_TAREA,\r\n           \r\n        })\r\n    }\r\n\r\n    //ELIMINAR TAREA\r\n    const eliminarTarea=async(id,proyecto)=>{\r\n      try {\r\n\r\n       await clienteAxios.delete(`/api/tareas/${id}`,  { params: { proyecto }} );\r\n        dispatch({\r\n            type:ELIMINAR_TAREA,\r\n            payload:id\r\n        })\r\n      } catch (error) {\r\n          console.log(error);\r\n      }\r\n    }\r\n\r\n \r\n     // ecxtraer una tarea para edicion\r\n     const actualizarTarea=async tarea => {\r\n       try {\r\n\r\n           const resultado= await clienteAxios.put(`/api/tareas/${tarea._id}`,tarea);\r\n   \r\n           dispatch({\r\n\r\n            type:ACTUALIZAR_TAREA,\r\n            payload:resultado.data\r\n        })\r\n       } catch (error) {\r\n           console.log(error);       }\r\n    }\r\n    \r\n    // ecxtraer una tarea para edicion\r\n    const guardarTareaActual= tarea => {\r\n        dispatch({\r\n            type:TAREA_ACTUAL,\r\n            payload:tarea\r\n        })\r\n    }\r\n// Elimina la tareaseleccionada\r\nconst limpiarTarea = () => {\r\n    dispatch({\r\n        type: LIMPIAR_TAREA\r\n    })\r\n}\r\n   \r\nreturn(\r\n    <TareaContext.Provider\r\n    value={{\r\n       \r\n        tareasproyecto:state.tareasproyecto,\r\n        tareaseleccionada:state.tareaseleccionada,\r\n        obtenerTareas,\r\n        validarTarea,\r\n        agregarTarea,\r\n        eliminarTarea,\r\n        limpiarTarea,\r\n        guardarTareaActual,\r\n        actualizarTarea,\r\n        errortarea:state.errortarea\r\n    }}\r\n   >\r\n        {props.children}\r\n    </TareaContext.Provider>\r\n)\r\n}\r\n\r\nexport default TareaState;"]},"metadata":{},"sourceType":"module"}