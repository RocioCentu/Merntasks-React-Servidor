{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import authContext from'../../context/autenticacion/authContext';import alertaContext from'../../context/alertas/alertaContext';var Login=function Login(props){var _useContext=useContext(alertaContext),alerta=_useContext.alerta,mostrarAlerta=_useContext.mostrarAlerta;var _useContext2=useContext(authContext),iniciarSesion=_useContext2.iniciarSesion,mensaje=_useContext2.mensaje,autenticado=_useContext2.autenticado;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];var email=usuario.email,password=usuario.password;//para ver las validaciones del backend\nuseEffect(function(){if(autenticado){//para acceder a proyectos despues de registrarse\nprops.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);var onChange=function onChange(e){guardarUsuario(_objectSpread({},usuario,_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();//validacion\nif(email.trim()===''||password.trim()===''){mostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}//pasar al action\niniciarSesion({email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alerta?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alerta.categoria)},\" \",alerta.msg):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sonbra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Iniciar Sesion\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,placeholder:\"Tu Password\",onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Iniciar Sesion\",className:\"btn btn-primario btn-block\"}))),/*#__PURE__*/React.createElement(Link,{to:'/nueva-cuenta',className:\"enlace-cuenta\"},\"Registrarse \")));};export default Login;","map":{"version":3,"sources":["C:/Users/rocio/source/repos/Mern-Cliente/cliente/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","Link","authContext","alertaContext","Login","props","alerta","mostrarAlerta","iniciarSesion","mensaje","autenticado","email","password","usuario","guardarUsuario","history","push","msg","categoria","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React,{useState,useContext,useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport authContext from '../../context/autenticacion/authContext';\r\n\r\nimport alertaContext from '../../context/alertas/alertaContext';\r\n\r\nconst Login = (props) => {\r\n\r\n  \r\n  const {alerta,mostrarAlerta} = useContext(alertaContext);\r\n  const {iniciarSesion,mensaje,autenticado} = useContext(authContext);\r\n\r\n\r\n    const [usuario,guardarUsuario]= useState({\r\n        email:'',\r\n     password:''\r\n    });\r\n      \r\n      const {email,password}=usuario;\r\n\r\n\r\n      //para ver las validaciones del backend\r\n      useEffect(()=>{\r\n        if(autenticado){\r\n            //para acceder a proyectos despues de registrarse\r\n            props.history.push('/proyectos');\r\n            \r\n        }\r\n        if(mensaje){\r\n            mostrarAlerta(mensaje.msg,mensaje.categoria);\r\n        }\r\n          // eslint-disable-next-line\r\n    }, [mensaje,autenticado,props.history]);\r\n\r\n\r\n    const onChange= e=>{\r\n         guardarUsuario({\r\n           ...usuario,\r\n         [e.target.name]:e.target.value\r\n            });\r\n    }\r\n    const onSubmit=e=>{\r\n        e.preventDefault();\r\n     //validacion\r\n     if(email.trim()==='' || password.trim()===''){\r\n\r\n      mostrarAlerta('Todos los campos son obligatorios','alerta-error');\r\n      return;\r\n   }\r\n      //pasar al action\r\n      iniciarSesion({\r\n      \r\n        email,\r\n        password\r\n    });\r\n    }\r\n    return ( \r\n    \r\n    <div className=\"form-usuario\">\r\n          {alerta ?( <div className={`alerta ${alerta.categoria}`}> {alerta.msg}</div>) : null}\r\n        <div className=\"contenedor-form sonbra-dark\">\r\n            <h1>Iniciar Sesion</h1>\r\n         <form\r\n         onSubmit={onSubmit}>\r\n           <div className=\"campo-form\">\r\n               <label htmlFor=\"email\">Email</label>\r\n               <input \r\n               type=\"email\"\r\n               id=\"email\"\r\n               name=\"email\"\r\n               placeholder=\"Tu Email\"\r\n               value={email}\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n               <label htmlFor=\"password\">Password</label>\r\n               <input \r\n               type=\"password\"\r\n               id=\"password\"\r\n               name=\"password\"\r\n               value={password}\r\n               placeholder=\"Tu Password\"\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n              \r\n               <input \r\n               type=\"submit\"\r\n               value=\"Iniciar Sesion\"\r\n               className=\"btn btn-primario btn-block\"\r\n               />\r\n           </div> \r\n         </form>\r\n         <Link to={'/nueva-cuenta'} className=\"enlace-cuenta\">\r\n           Registrarse </Link>\r\n        </div> \r\n    </div> \r\n    \r\n    );\r\n}\r\n \r\nexport default Login;"]},"metadata":{},"sourceType":"module"}