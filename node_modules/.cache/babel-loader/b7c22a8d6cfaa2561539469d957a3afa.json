{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rocio\\\\OneDrive\\\\Escritorio\\\\Curso react\\\\Mern\\\\cliente\\\\src\\\\components\\\\auth\\\\Login.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport authContext from '../../context/autenticacion/authContext';\nimport alertaContext from '../../context/alertas/alertaContext';\n\nconst Login = () => {\n  const {\n    alerta,\n    mostrarAlerta\n  } = useContext(alertaContext);\n  const {\n    iniciarSesion,\n    mensaje,\n    autenticado\n  } = useContext(authContext);\n  const [usuario, guardarUsuario] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = usuario; //para ver las validaciones del backend\n\n  useEffect(() => {\n    if (autenticado) {\n      //para acceder a proyectos despues de registrarse\n      props.history.push('/proyectos');\n    }\n\n    if (mensaje) {\n      mostrarAlerta(mensaje.msg, mensaje.categoria);\n    }\n  }, [mensaje, autenticado, props.history]);\n\n  const onChange = e => {\n    guardarUsuario({ ...usuario,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); //validacion\n\n    if (email.trim() === '' || password.trim() === '') {\n      mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\n      return;\n    } //pasar al action\n\n\n    iniciarSesion({\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-usuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, alerta ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `alerta ${alerta.categoria}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 22\n    }\n  }, \" \", alerta.msg) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-form sonbra-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Iniciar Sesion\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Tu Email\",\n    value: email,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    value: password,\n    placeholder: \"Tu Password\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Iniciar Sesion\",\n    className: \"btn btn-primario btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 16\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: '/nueva-cuenta',\n    className: \"enlace-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 10\n    }\n  }, \"Registrarse \")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/rocio/OneDrive/Escritorio/Curso react/Mern/cliente/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","Link","authContext","alertaContext","Login","alerta","mostrarAlerta","iniciarSesion","mensaje","autenticado","usuario","guardarUsuario","email","password","props","history","push","msg","categoria","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React,{useState,useContext,useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport authContext from '../../context/autenticacion/authContext';\r\n\r\nimport alertaContext from '../../context/alertas/alertaContext';\r\n\r\nconst Login = () => {\r\n\r\n  \r\n  const {alerta,mostrarAlerta} = useContext(alertaContext);\r\n  const {iniciarSesion,mensaje,autenticado} = useContext(authContext);\r\n\r\n\r\n    const [usuario,guardarUsuario]= useState({\r\n        email:'',\r\n     password:''\r\n    });\r\n      \r\n      const {email,password}=usuario;\r\n\r\n\r\n      //para ver las validaciones del backend\r\n      useEffect(()=>{\r\n        if(autenticado){\r\n            //para acceder a proyectos despues de registrarse\r\n            props.history.push('/proyectos');\r\n        }\r\n        if(mensaje){\r\n            mostrarAlerta(mensaje.msg,mensaje.categoria);\r\n        }\r\n    }, [mensaje,autenticado,props.history]);\r\n    const onChange= e=>{\r\n         guardarUsuario({\r\n           ...usuario,\r\n         [e.target.name]:e.target.value\r\n            });\r\n    }\r\n    const onSubmit=e=>{\r\n        e.preventDefault();\r\n     //validacion\r\n     if(email.trim()==='' || password.trim()===''){\r\n\r\n      mostrarAlerta('Todos los campos son obligatorios','alerta-error');\r\n      return;\r\n   }\r\n      //pasar al action\r\n      iniciarSesion({\r\n      \r\n        email,\r\n        password\r\n    });\r\n    }\r\n    return ( \r\n    \r\n    <div className=\"form-usuario\">\r\n          {alerta ?( <div className={`alerta ${alerta.categoria}`}> {alerta.msg}</div>) : null}\r\n        <div className=\"contenedor-form sonbra-dark\">\r\n            <h1>Iniciar Sesion</h1>\r\n         <form\r\n         onSubmit={onSubmit}>\r\n           <div className=\"campo-form\">\r\n               <label htmlFor=\"email\">Email</label>\r\n               <input \r\n               type=\"email\"\r\n               id=\"email\"\r\n               name=\"email\"\r\n               placeholder=\"Tu Email\"\r\n               value={email}\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n               <label htmlFor=\"password\">Password</label>\r\n               <input \r\n               type=\"password\"\r\n               id=\"password\"\r\n               name=\"password\"\r\n               value={password}\r\n               placeholder=\"Tu Password\"\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n              \r\n               <input \r\n               type=\"submit\"\r\n               value=\"Iniciar Sesion\"\r\n               className=\"btn btn-primario btn-block\"\r\n               />\r\n           </div> \r\n         </form>\r\n         <Link to={'/nueva-cuenta'} className=\"enlace-cuenta\">\r\n           Registrarse </Link>\r\n        </div> \r\n    </div> \r\n    \r\n    );\r\n}\r\n \r\nexport default Login;"]},"metadata":{},"sourceType":"module"}