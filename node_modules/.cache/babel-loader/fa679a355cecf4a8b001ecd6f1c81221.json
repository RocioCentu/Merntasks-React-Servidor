{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\rocio\\\\source\\\\repos\\\\Mern-Cliente\\\\cliente\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import authContext from'../../context/autenticacion/authContext';import alertaContext from'../../context/alertas/alertaContext';var NuevaCuenta=function NuevaCuenta(props){//extraer valores del context\nvar _useContext=useContext(alertaContext),alerta=_useContext.alerta,mostrarAlerta=_useContext.mostrarAlerta;var _useContext2=useContext(authContext),registrarUsuario=_useContext2.registrarUsuario,mensaje=_useContext2.mensaje,autenticado=_useContext2.autenticado;//en caso de que el usuario se haya autenticado o registrado osea un registro invalido \nuseEffect(function(){if(autenticado){//para acceder a proyectos despues de registrarse\nprops.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);var _useState=useState({nombre:'',email:'',password:'',confirmar:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];var nombre=usuario.nombre,email=usuario.email,password=usuario.password,confirmar=usuario.confirmar;var onChange=function onChange(e){guardarUsuario(_objectSpread({},usuario,_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();//validacion de campos vacios \nif(nombre.trim()===''||email.trim()===''||password.trim()===''||confirmar.trim()===''){mostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}//pass minimo 6 caracteres y pass iguales\nif(password.length<6){mostrarAlerta('El password debe ser minimo de 6 caracteres','alerta-error');return;}if(password!==confirmar){mostrarAlerta('Los password no son iguales','alerta-error');return;}//pasar al action\nregistrarUsuario({nombre:nombre,email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alerta?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alerta.categoria)},\" \",alerta.msg):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sonbra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Registrarse\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"nombre\",name:\"nombre\",placeholder:\"Tu Nombre\",value:nombre,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,placeholder:\"Tu Password\",onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"confirmar\"},\"Confirmar Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"confirmar\",name:\"confirmar\",value:confirmar,placeholder:\"Repite tu Password\",onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Registrarme\",className:\"btn btn-primario btn-block\"}))),/*#__PURE__*/React.createElement(Link,{to:'/nueva-cuenta',className:\"enlace-cuenta\"},\"Volver a Iniciar Sesion\")));};export default NuevaCuenta;","map":{"version":3,"sources":["C:/Users/rocio/source/repos/Mern-Cliente/cliente/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","authContext","alertaContext","NuevaCuenta","props","alerta","mostrarAlerta","registrarUsuario","mensaje","autenticado","history","push","msg","categoria","nombre","email","password","confirmar","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React,{useState,useContext,useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport authContext from '../../context/autenticacion/authContext';\r\n\r\nimport alertaContext from '../../context/alertas/alertaContext';\r\nconst NuevaCuenta = (props) => {\r\n\r\n    //extraer valores del context\r\n\r\n    const {alerta,mostrarAlerta} = useContext(alertaContext);\r\n    const {registrarUsuario,mensaje,autenticado} = useContext(authContext);\r\n\r\n\r\n    //en caso de que el usuario se haya autenticado o registrado osea un registro invalido \r\n    useEffect(()=>{\r\n        if(autenticado){\r\n            //para acceder a proyectos despues de registrarse\r\n            props.history.push('/proyectos');\r\n        }\r\n        if(mensaje){\r\n            mostrarAlerta(mensaje.msg,mensaje.categoria);\r\n        }\r\n          // eslint-disable-next-line\r\n    }, [mensaje,autenticado,props.history]);\r\n\r\n\r\n    const [usuario,guardarUsuario]= useState({\r\n        nombre:'',\r\n        email:'',\r\n     password:'',\r\n     confirmar:''\r\n    });\r\n      \r\n      const {nombre,email,password,confirmar}=usuario;\r\n\r\n    const onChange= e=>{\r\n         guardarUsuario({\r\n           ...usuario,\r\n         [e.target.name]:e.target.value\r\n            });\r\n    }\r\n    const onSubmit=e=>{\r\n        e.preventDefault();\r\n     //validacion de campos vacios \r\n\r\n     if(nombre.trim()==='' || email.trim()==='' || password.trim()==='' || confirmar.trim()===''){\r\n\r\n        mostrarAlerta('Todos los campos son obligatorios','alerta-error');\r\n        return;\r\n     }\r\n\r\n     //pass minimo 6 caracteres y pass iguales\r\n     if(password.length < 6){\r\n        \r\n        mostrarAlerta('El password debe ser minimo de 6 caracteres','alerta-error');\r\n        return;\r\n\r\n    }\r\n       \r\n    if(password !== confirmar){\r\n        \r\n        mostrarAlerta('Los password no son iguales','alerta-error');\r\n        return;\r\n        \r\n    }\r\n\r\n     //pasar al action\r\n     registrarUsuario({\r\n         nombre,\r\n         email,\r\n         password\r\n     });\r\n    }\r\n    return ( \r\n    \r\n    <div className=\"form-usuario\">\r\n        {alerta ?( <div className={`alerta ${alerta.categoria}`}> {alerta.msg}</div>) : null}\r\n        <div className=\"contenedor-form sonbra-dark\">\r\n            <h1>Registrarse</h1>\r\n         <form\r\n         onSubmit={onSubmit}>\r\n             <div className=\"campo-form\">\r\n               <label htmlFor=\"email\">Nombre</label>\r\n               <input \r\n               type=\"text\"\r\n               id=\"nombre\"\r\n               name=\"nombre\"\r\n               placeholder=\"Tu Nombre\"\r\n               value={nombre}\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n               <label htmlFor=\"email\">Email</label>\r\n               <input \r\n               type=\"email\"\r\n               id=\"email\"\r\n               name=\"email\"\r\n               placeholder=\"Tu Email\"\r\n               value={email}\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n               <label htmlFor=\"password\">Password</label>\r\n               <input \r\n               type=\"password\"\r\n               id=\"password\"\r\n               name=\"password\"\r\n               value={password}\r\n               placeholder=\"Tu Password\"\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n               <label htmlFor=\"confirmar\">Confirmar Password</label>\r\n               <input \r\n               type=\"password\"\r\n               id=\"confirmar\"\r\n               name=\"confirmar\"\r\n               value={confirmar}\r\n               placeholder=\"Repite tu Password\"\r\n               onChange={onChange} />\r\n           </div> \r\n           <div className=\"campo-form\">\r\n              \r\n               <input \r\n               type=\"submit\"\r\n               value=\"Registrarme\"\r\n               className=\"btn btn-primario btn-block\"\r\n               />\r\n           </div> \r\n         </form>\r\n         <Link to={'/nueva-cuenta'} className=\"enlace-cuenta\">\r\n           Volver a Iniciar Sesion</Link>\r\n        </div> \r\n    </div> \r\n    \r\n    );\r\n}\r\n \r\nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}